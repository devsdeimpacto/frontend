Options -MultiViews

# mime
AddEncoding gzip .gz

# expires
ExpiresActive On
ExpiresByType text/css "access plus 1 year"
ExpiresByType application/javascript "access plus 1 year"
ExpiresByType image/jpg "access plus 1 year"
ExpiresByType image/jpeg "access plus 1 year"
ExpiresByType image/png "access plus 1 year"
ExpiresByType image/gif "access plus 1 year"
ExpiresByType image/ico "access plus 1 year"
ExpiresByType image/svg "access plus 1 year"
ExpiresByType font/opentype "access plus 1 year"
ExpiresByType font/truetype "access plus 1 year"
ExpiresByType application/font-woff "access plus 1 year"
ExpiresByType application/font-woff2 "access plus 1 year"

# rewrite
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.html [QSA,L]

RewriteCond %{HTTP:Accept-Encoding} gzip
RewriteCond %{REQUEST_URI} .*\.(css|js|svg|ttf|eot|woff|woff2)
RewriteCond %{REQUEST_FILENAME}.gz -s
RewriteRule ^(.+) $1.gz [L]

# headers
<FilesMatch \.css\.gz$>
    ForceType text/css
</FilesMatch>
<FilesMatch \.js\.gz$>
    ForceType text/javascript
</FilesMatch>
<FilesMatch \.svg\.gz$>
    ForceType image/svg
</FilesMatch>
<FilesMatch \.ttf\.gz$>
    ForceType font/opentype
</FilesMatch>
<FilesMatch \.eot\.gz$>
    ForceType font/truetype
</FilesMatch>
<FilesMatch \.woff\.gz$>
    ForceType application/font-woff
</FilesMatch>
<FilesMatch \.woff2\.gz$>
    ForceType application/font-woff2
</FilesMatch>